@tailwind base;
@tailwind components;
@tailwind utilities;

/* ========================================
   KITCHEN GARDEN DESIGN SYSTEM
   Fresh, organic, vibrant - like a farmers
   market meets a trendy brunch spot
   ======================================== */

@layer base {
  html {
    font-family: 'DM Sans', system-ui, sans-serif;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    scroll-behavior: smooth;
  }

  body {
    @apply bg-cream text-cocoa;
    background-image:
      radial-gradient(ellipse at 20% 0%, rgba(184, 224, 197, 0.15) 0%, transparent 50%),
      radial-gradient(ellipse at 80% 100%, rgba(255, 182, 39, 0.08) 0%, transparent 50%);
    min-height: 100vh;
  }

  h1, h2, h3, h4, h5, h6 {
    font-family: 'Outfit', system-ui, sans-serif;
    @apply text-cocoa font-bold;
  }

  /* Selection styling */
  ::selection {
    @apply bg-mint text-forest-dark;
  }
}

@layer components {
  /* ========================================
     BUTTONS
     ======================================== */
  .btn {
    @apply inline-flex items-center justify-center gap-2 font-display font-semibold
           transition-all duration-300 ease-out
           focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-cream
           disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none
           active:scale-[0.98];
  }

  .btn-primary {
    @apply btn px-6 py-3 rounded-full
           bg-gradient-forest text-white
           hover:shadow-glow-forest hover:scale-[1.02]
           focus:ring-forest;
  }

  .btn-secondary {
    @apply btn px-6 py-3 rounded-full
           bg-cream-200 text-cocoa border-2 border-cocoa/10
           hover:bg-cream-300 hover:border-cocoa/20 hover:scale-[1.02]
           focus:ring-cocoa;
  }

  .btn-accent {
    @apply btn px-6 py-3 rounded-full
           bg-gradient-tangerine text-white
           hover:shadow-glow-tangerine hover:scale-[1.02]
           focus:ring-tangerine;
  }

  .btn-ghost {
    @apply btn px-4 py-2 rounded-xl
           bg-transparent text-forest
           hover:bg-forest-50 hover:scale-[1.02]
           focus:ring-forest;
  }

  .btn-icon {
    @apply btn p-3 rounded-full
           bg-cream-200/80 backdrop-blur-sm text-cocoa
           hover:bg-cream-300 hover:scale-110
           focus:ring-forest;
  }

  /* ========================================
     INPUTS
     ======================================== */
  .input {
    @apply w-full px-4 py-3 font-body text-cocoa
           bg-cream-100 border-2 border-cocoa/10 rounded-2xl
           transition-all duration-300
           placeholder:text-cocoa-lighter
           focus:outline-none focus:border-forest focus:ring-4 focus:ring-forest/10
           hover:border-cocoa/20;
  }

  .input-error {
    @apply input border-tangerine focus:border-tangerine focus:ring-tangerine/10;
  }

  /* ========================================
     CARDS
     ======================================== */
  .card {
    @apply bg-white rounded-3xl shadow-soft overflow-hidden
           transition-all duration-300 ease-out;
  }

  .card-hover {
    @apply card hover:shadow-soft-lg hover:-translate-y-1;
  }

  .card-interactive {
    @apply card-hover cursor-pointer active:scale-[0.99];
  }

  /* ========================================
     BADGES & TAGS
     ======================================== */
  .badge {
    @apply inline-flex items-center gap-1 px-3 py-1
           font-body text-sm font-medium rounded-full;
  }

  .badge-mint {
    @apply badge bg-mint/30 text-forest-dark;
  }

  .badge-tangerine {
    @apply badge bg-tangerine-50 text-tangerine-dark;
  }

  .badge-honey {
    @apply badge bg-honey/20 text-cocoa;
  }

  .badge-forest {
    @apply badge bg-forest-50 text-forest;
  }

  /* ========================================
     TYPOGRAPHY
     ======================================== */
  .text-handwritten {
    font-family: 'Caveat', cursive;
    @apply text-2xl;
  }

  .text-gradient-forest {
    @apply bg-gradient-forest bg-clip-text text-transparent;
  }

  .text-gradient-tangerine {
    @apply bg-gradient-tangerine bg-clip-text text-transparent;
  }

  /* ========================================
     SPECIAL EFFECTS
     ======================================== */
  .glass {
    @apply bg-white/80 backdrop-blur-xl;
  }

  .glass-dark {
    @apply bg-cocoa/80 backdrop-blur-xl;
  }

  .frosted {
    @apply bg-cream/90 backdrop-blur-md border border-white/50;
  }

  .glow-tangerine {
    @apply shadow-glow-tangerine;
  }

  .glow-forest {
    @apply shadow-glow-forest;
  }

  /* ========================================
     FAVORITE HEART BUTTON
     ======================================== */
  .heart-btn {
    @apply p-2 rounded-full bg-white/90 backdrop-blur-sm shadow-soft
           transition-all duration-300 ease-out
           hover:scale-110 hover:shadow-soft-lg
           active:scale-95;
  }

  .heart-btn.active {
    @apply bg-tangerine text-white shadow-glow-tangerine;
  }

  .heart-btn.active svg {
    @apply animate-heart-beat;
  }

  /* ========================================
     ANIMATIONS
     ======================================== */
  .stagger-1 { animation-delay: 0.1s; }
  .stagger-2 { animation-delay: 0.2s; }
  .stagger-3 { animation-delay: 0.3s; }
  .stagger-4 { animation-delay: 0.4s; }
  .stagger-5 { animation-delay: 0.5s; }

  /* ========================================
     SCROLLBAR
     ======================================== */
  .scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }
  .scrollbar-hide::-webkit-scrollbar {
    display: none;
  }

  /* ========================================
     LOADING STATES
     ======================================== */
  .skeleton {
    @apply bg-gradient-to-r from-cream-200 via-cream-100 to-cream-200
           bg-[length:200%_100%] animate-shimmer rounded-2xl;
  }

  .loader {
    @apply w-8 h-8 border-4 border-forest/20 border-t-forest rounded-full animate-spin;
  }

  /* ========================================
     MODAL
     ======================================== */
  .modal-backdrop {
    @apply fixed inset-0 z-50 bg-cocoa/40 backdrop-blur-sm
           flex items-center justify-center p-4;
  }

  .modal-content {
    @apply bg-white rounded-3xl shadow-soft-xl p-6 w-full max-w-md
           animate-scale-in;
  }

  .modal-close-btn {
    @apply absolute top-4 right-4 p-2 rounded-full
           bg-cream-200 text-cocoa hover:bg-cream-300
           transition-all duration-200;
  }
}

@layer utilities {
  /* Aspect ratios for recipe images */
  .aspect-recipe {
    aspect-ratio: 4 / 3;
  }

  .aspect-recipe-tall {
    aspect-ratio: 3 / 4;
  }

  .aspect-category {
    aspect-ratio: 1 / 1;
  }

  /* Line clamps */
  .line-clamp-1 {
    display: -webkit-box;
    -webkit-line-clamp: 1;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  .line-clamp-2 {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  .line-clamp-3 {
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  /* Safe area for mobile */
  .pb-safe {
    padding-bottom: env(safe-area-inset-bottom);
  }

  .mb-safe {
    margin-bottom: env(safe-area-inset-bottom);
  }
}

/* ========================================
   LEGACY SUPPORT (for existing components)
   ======================================== */
.titulo-categoria-box {
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  padding: 1rem 1.25rem;
  background: linear-gradient(to top, rgba(61, 41, 20, 0.85), transparent);
}

/* Hide PNG background pattern - now using CSS gradients */
.bg-pattern {
  background-image: none !important;
}
